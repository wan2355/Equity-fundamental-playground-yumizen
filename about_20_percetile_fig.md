

1) percentile は「寄与率」ではありません

ここでの percentile（0-100） は、

今回の実行に含めた銘柄の中での“相対順位”（横並びランキング）

例：MC/FCF の percentile=80 は「この集合の中で“良い（安い）側”に上位20%くらい」

という意味です。

heatmap（やSW/HW/CYCLE）への“寄与率”ではありません。
寄与（=なぜそのスコアになったか）は、別に作った score breakdown（内訳） の図が担当です。

percentileバー：素材の“相対的位置”を見る（比較の入口）

breakdown：その素材が“スコアにどう効いたか”を見る（納得の出口）

この役割分担です。
